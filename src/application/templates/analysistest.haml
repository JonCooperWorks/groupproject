-extends "base.html"

-block content
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>

  %h1 Analysis Summary
  %h2 COMP3901
  %h3 200/1000 Students Finished Survey

  #analysis: %section
   .progress.progress-striped
    .bar(style="width: 20%")


  %h3 Rating : 4

  %table.table(style="border-collapse:collapse;")

    %thead
      %tr
        %th Question
        %th Average Rating


    %tbody
      %tr.accordion-toggle(data-toggle="collapse", data-target="#target1")
        %td Q1. Was the lecturer on time?
        %td 4

      %tr
        %td.hiddenRow(colspan="2")
          #target1.accordion-body.collapse
            .row
              .offset3.span6.chart
                #chart_div
                %script
                  function drawChart() {

                    // Create the data table.
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Rating');
                    data.addColumn('number', 'Response');
                    data.addRows([
                      ['1', 2],
                      ['2', 2],
                      ['3', 4],
                      ['4', 0],
                      ['5', 2]
                    ]);

                    // Set chart options
                    var options = {'title':'Q1. Was the lecturer on time?',
                                   'width':600,
                                   'height':300};

                    // Instantiate and draw our chart, passing in some options.
                    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
                    chart.draw(data, options);
                  }
            .row
              .offset1.span10
                .center
                  %table.table
                    %thead
                      %tr
                        %th Rating
                        %th Repsonses
                        %th Total
                    %tbody
                      %tr
                        %td 1
                        %td 2
                        %td 20%
                      %tr
                        %td 2
                        %td 2
                        %td 20%
                      %tr
                        %td 3
                        %td 4
                        %td 40%
                      %tr
                        %td 4
                        %td 0
                        %td 0%
                      %tr
                        %td 5
                        %td 2
                        %td 20%
                      %tr
                        %td Total
                        %td
                        %td  10


    %tbody
      %tr.accordion-toggle(data-toggle="collapse", data-target="#target2")
        %td Q27. What did you like best about this course?
        %td 3

      %tr
        %td.hiddenRow(colspan="2")
          #target2.accordion-body.collapse
            .row
              .offset3.span6.chart
                #chart_div2
                %script
                  function drawChart2() {

                    // Create the data table.
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Rating');
                    data.addColumn('number', 'Response');
                    data.addRows([
                      ['Negative', 100],
                      ['Partly Negative', 24],
                      ['Neutral', 55],
                      ['Partly Positive', 66],
                      ['Positive', 200]
                    ]);

                    // Set chart options
                    var options = {'title':'Q27. What did you like best about this course?',
                                   'width':600,
                                   'height':300};

                    // Instantiate and draw our chart, passing in some options.
                    var chart = new google.visualization.PieChart(document.getElementById('chart_div2'));
                    chart.draw(data, options);
                  }
            .row
              .offset1.span10
                .center
                %table.table
                  %thead
                    %tr
                      %th Rating
                      %th Repsonses
                      %th Total
                  %tbody
                    %tr
                      %td Negative
                      %td 100
                      %td 20%

                    %tr
                      %td Partly Negative
                      %td 24
                      %td 20%

                    %tr
                      %td Neutral
                      %td 55
                      %td 40%

                    %tr
                      %td Partly Positive
                      %td 66
                      %td 20%

                    %tr
                      %td Positive
                      %td 200
                      %td 0%

                    %tr
                      %td Total
                      %td
                      %td 445

  <script type="text/javascript">
    // Load the Visualization API and the piechart package.
    google.load('visualization', '1.0', {'packages':['corechart']});

    // Set a callback to run when the Google Visualization API is loaded.
    google.setOnLoadCallback(drawChart);
    google.setOnLoadCallback(drawChart2);
  </script>

